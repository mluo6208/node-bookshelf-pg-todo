define([],function(){return function(n){var t={},e=[];n=n||this,n.on=function(n,e,i){(t[n]=t[n]||[]).push([e,i])},n.off=function(n,i){n||(t={});for(var f=t[n]||e,l=f.length=i?f.length:0;l--;)i==f[l][0]&&f.splice(l,1)},n.emit=function(n){for(var i,f=t[n]||e,l=f.length>0?f.slice(0,f.length):f,c=0;i=l[c++];)i[0].apply(i[1],e.slice.call(arguments,1))}}});