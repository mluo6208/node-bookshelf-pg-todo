function Events(n){var t={},e=[];n=n||this,n.on=function(n,e,l){(t[n]=t[n]||[]).push([e,l])},n.off=function(n,l){n||(t={});for(var i=t[n]||e,c=i.length=l?i.length:0;c--;)l==i[c][0]&&i.splice(c,1)},n.emit=function(n){for(var l,i=t[n]||e,c=i.length>0?i.slice(0,i.length):i,f=0;l=c[f++];)l[0].apply(l[1],e.slice.call(arguments,1))}}